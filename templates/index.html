{% extends "base.html" %}
{% block content %}
<div class="text-center space-y-6">
  <h1 class="text-3xl font-bold">Taylor's Random Quote Generator</h1>

  <!-- Quote Box -->
  <div id="quote-box" class="bg-white p-6 rounded-lg shadow-lg max-w-xl mx-auto">
    <p id="quote-text" class="text-xl italic">"{{ quote['quote'] }}"</p>
    <p id="quote-author" class="mt-2 text-gray-600">– {{ quote['author'] }}</p>
  </div>

  <!-- Buttons -->
  <div class="space-x-4">
    <button onclick="getLocalQuote()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">New Local Quote</button>
    <button onclick="getQuotableQuote()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Try Zenquotes API</button>
  </div>
</div>

<!-- JavaScript -->
<script>
async function getLocalQuote() {
  const res = await fetch("/api/quote");
  const data = await res.json();
  document.getElementById("quote-text").innerText = `"${data.quote}"`;
  document.getElementById("quote-author").innerText = `– ${data.author}`;
}

async function getQuotableQuote() {
  const res = await fetch("/api/zenquotes");
  const data = await res.json();
  if (data.error) {
    document.getElementById("quote-text").innerText = "Error fetching quote.";
    document.getElementById("quote-author").innerText = "";
  } else {
    document.getElementById("quote-text").innerText = `"${data.quote}"`;
    document.getElementById("quote-author").innerText = `– ${data.author}`;
  }
}
</script>
{% endblock %}